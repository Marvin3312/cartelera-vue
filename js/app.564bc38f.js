(function(){"use strict";var a={1042:function(a,e,t){var l=t(5130),r=t(6768),o=t(4232);const i={class:"hero-gradient-animation"},s={id:"app",class:"hero-gradient-animation"},c={class:"position-relative",style:{"z-index":"1",padding:"2rem"}},n={key:0,class:"alert-flotante"};function u(a,e,t,l,u,d){const p=(0,r.g2)("ListadoPeliculas"),b=(0,r.g2)("FormularioPelicula");return(0,r.uX)(),(0,r.CE)("body",i,[(0,r.Lk)("div",s,[(0,r.Lk)("div",c,[(0,r.bF)(p,{onEditar:d.editarPelicula},null,8,["onEditar"]),u.peliculaSeleccionada?((0,r.uX)(),(0,r.Wv)(b,{key:0,peliculaEdit:u.peliculaSeleccionada,onGuardado:d.recargar},null,8,["peliculaEdit","onGuardado"])):(0,r.Q3)("",!0)]),a.mostrarMensaje?((0,r.uX)(),(0,r.CE)("div",n,(0,o.v_)(a.mensaje),1)):(0,r.Q3)("",!0)])])}const d={class:"container my-4"},p={class:"d-flex justify-content-between align-items-center mb-3"},b={class:"row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4",id:"Seccion-peliculas"},m={class:"card h-100 text-light",style:{"background-color":"#2C2C2C"}},f=["src"],v={class:"card-body d-flex flex-column"},k={class:"card-title",style:{color:"#E0E0E0"}},h={class:"card-subtitle mb-2",style:{color:"#B0B0B0"}},y={class:"card-text text-secondary"},g={class:"mt-auto d-flex gap-2"},L=["onClick"],w=["onClick"],x={key:0,class:"form-flotante"};function P(a,e,t,l,i,s){const c=(0,r.g2)("BuscarPeliculas"),n=(0,r.g2)("CarruselDestacado"),u=(0,r.g2)("FormularioPelicula");return(0,r.uX)(),(0,r.CE)("div",d,[(0,r.Lk)("div",p,[(0,r.bF)(c,{onFiltrar:s.filtrarPeliculas},null,8,["onFiltrar"]),(0,r.Lk)("div",{class:"btn-animado",onClick:e[0]||(e[0]=a=>s.abrirFormulario())},[...e[1]||(e[1]=[(0,r.Lk)("a",{href:"#"},"Agregar Película",-1)])])]),(0,r.bF)(n,{peliculas:i.peliculasDestacadas},null,8,["peliculas"]),(0,r.Lk)("div",b,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.peliculas,a=>((0,r.uX)(),(0,r.CE)("div",{key:a.imdbID,class:"col"},[(0,r.Lk)("div",m,[(0,r.Lk)("img",{src:a.Poster,class:"card-img-top",style:{height:"250px","object-fit":"cover"},alt:"poster"},null,8,f),(0,r.Lk)("div",v,[(0,r.Lk)("h5",k,(0,o.v_)(a.Title),1),(0,r.Lk)("p",h,"Género: "+(0,o.v_)(a.Type),1),(0,r.Lk)("p",{class:(0,o.C4)(["fw-bold",a.Estado?"text-success":"text-danger"])},(0,o.v_)(a.Estado?"Disponible":"No disponible"),3),(0,r.Lk)("p",y,(0,o.v_)(a.description),1),(0,r.Lk)("div",g,[(0,r.Lk)("div",{class:"btn-animado",onClick:e=>s.abrirFormulario(a)},[...e[2]||(e[2]=[(0,r.Lk)("a",{href:"#"},"Editar",-1)])],8,L),(0,r.Lk)("div",{class:"btn-animado",onClick:e=>s.borrarPelicula(a.imdbID)},[...e[3]||(e[3]=[(0,r.Lk)("a",{href:"#"},"Eliminar",-1)])],8,w)])])])]))),128))]),i.mostrarFormulario?((0,r.uX)(),(0,r.CE)("div",x,[(0,r.bF)(u,{pelicula:i.peliculaSeleccionada,onCerrar:s.cerrarFormulario,onGuardado:s.refrescarPeliculas},null,8,["pelicula","onCerrar","onGuardado"])])):(0,r.Q3)("",!0)])}t(8111),t(2489);const C={class:"d-flex justify-content-between align-items-center mb-3"},E={class:"input-group"};function D(a,e,t,o,i,s){return(0,r.uX)(),(0,r.CE)("div",C,[(0,r.Lk)("div",E,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>i.titulo=a),type:"text",class:"form-control h-100 me-2 rounded",placeholder:"Buscar por título"},null,512),[[l.Jo,i.titulo]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>i.ubicacion=a),type:"text",class:"form-control h-100 me-2 rounded",placeholder:"Buscar por ubicación"},null,512),[[l.Jo,i.ubicacion]]),(0,r.Lk)("button",{class:"svg-button",onClick:e[2]||(e[2]=(...a)=>s.buscar&&s.buscar(...a)),type:"button"},[...e[3]||(e[3]=[(0,r.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,r.Lk)("circle",{class:"svg-path",cx:"11",cy:"11",r:"7",stroke:"white","stroke-width":"2"}),(0,r.Lk)("line",{class:"svg-path",x1:"16.5",y1:"16.5",x2:"21",y2:"21",stroke:"white","stroke-width":"2","stroke-linecap":"round"})],-1)])])])])}var F={name:"BuscarPeliculas",data(){return{titulo:"",ubicacion:""}},methods:{buscar(){this.$emit("filtrar",{title:this.titulo,ubication:this.ubicacion})}}},S=t(1241);const A=(0,S.A)(F,[["render",D]]);var j=A;const T={class:"form-flotante"},_={class:"card p-4 bg-dark text-light shadow-lg"},I={class:"mb-3"},O={class:"mb-3"},U={class:"mb-3"},X={class:"mb-3"},$={class:"mb-3"},B={class:"mb-3 form-check"},V={class:"mb-3"},J={class:"mb-3"},q={class:"d-flex gap-2 justify-content-end"},G={type:"submit",class:"btn btn-success"};function M(a,e,t,i,s,c){return(0,r.uX)(),(0,r.CE)("div",T,[(0,r.Lk)("div",_,[(0,r.Lk)("h4",I,(0,o.v_)(t.pelicula?.imdbID?"Editar Película":"Agregar Película"),1),(0,r.Lk)("form",{onSubmit:e[8]||(e[8]=(0,l.D$)((...a)=>c.guardar&&c.guardar(...a),["prevent"]))},[(0,r.Lk)("div",O,[e[9]||(e[9]=(0,r.Lk)("label",{for:"title",class:"form-label"},"Título",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"title","onUpdate:modelValue":e[0]||(e[0]=a=>s.form.Title=a),class:"form-control",required:""},null,512),[[l.Jo,s.form.Title]])]),(0,r.Lk)("div",U,[e[10]||(e[10]=(0,r.Lk)("label",{for:"year",class:"form-label"},"Año de estreno",-1)),(0,r.bo)((0,r.Lk)("input",{type:"number",id:"year","onUpdate:modelValue":e[1]||(e[1]=a=>s.form.Year=a),class:"form-control",required:""},null,512),[[l.Jo,s.form.Year]])]),(0,r.Lk)("div",X,[e[11]||(e[11]=(0,r.Lk)("label",{for:"type",class:"form-label"},"Género / Tipo",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"type","onUpdate:modelValue":e[2]||(e[2]=a=>s.form.Type=a),class:"form-control",required:""},null,512),[[l.Jo,s.form.Type]])]),(0,r.Lk)("div",$,[e[12]||(e[12]=(0,r.Lk)("label",{for:"poster",class:"form-label"},"URL del Póster",-1)),(0,r.bo)((0,r.Lk)("input",{type:"url",id:"poster","onUpdate:modelValue":e[3]||(e[3]=a=>s.form.Poster=a),class:"form-control",required:""},null,512),[[l.Jo,s.form.Poster]])]),(0,r.Lk)("div",B,[(0,r.bo)((0,r.Lk)("input",{type:"checkbox",id:"estado","onUpdate:modelValue":e[4]||(e[4]=a=>s.form.Estado=a),class:"form-check-input"},null,512),[[l.lH,s.form.Estado]]),e[13]||(e[13]=(0,r.Lk)("label",{for:"estado",class:"form-check-label"},"Disponible / Activa",-1))]),(0,r.Lk)("div",V,[e[14]||(e[14]=(0,r.Lk)("label",{for:"description",class:"form-label"},"Descripción",-1)),(0,r.bo)((0,r.Lk)("textarea",{id:"description","onUpdate:modelValue":e[5]||(e[5]=a=>s.form.description=a),class:"form-control",rows:"3",required:""},null,512),[[l.Jo,s.form.description]])]),(0,r.Lk)("div",J,[e[15]||(e[15]=(0,r.Lk)("label",{for:"ubication",class:"form-label"},"Ubicación (cine)",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"ubication","onUpdate:modelValue":e[6]||(e[6]=a=>s.form.Ubication=a),class:"form-control",required:""},null,512),[[l.Jo,s.form.Ubication]])]),(0,r.Lk)("div",q,[(0,r.Lk)("button",G,(0,o.v_)(t.pelicula?.imdbID?"Actualizar":"Guardar"),1),(0,r.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:e[7]||(e[7]=e=>a.$emit("cerrar"))},"Cancelar")])],32)])])}var Q=t(4373);const z="https://movie.azurewebsites.net/api/cartelera",K=async(a="",e="")=>{const t=await Q.A.get(`${z}?title=${a}&ubication=${e}`);return t.data},Y=async a=>{const e=await Q.A.post(z,a);return e.data},H=async a=>{const e=await Q.A.put(`${z}?imdbID=${a.imdbID}`,a);return e.data},N=async a=>{const e=await Q.A.delete(`${z}?imdbID=${a}`);return e.data};var R={name:"FormularioPelicula",props:{pelicula:{type:Object,default:null}},data(){return{form:this.pelicula?{...this.pelicula}:{imdbID:`IMDB${Date.now()}`,Title:"",Year:"",Type:"",Poster:"",Estado:!1,description:"",Ubication:""}}},methods:{async guardar(){try{this.pelicula?.imdbID?await H(this.form):await Y(this.form),alert("✅ Película guardada con éxito"),this.$emit("guardado"),this.$emit("cerrar")}catch(a){console.error("Error al guardar:",a),alert("❌ Error al guardar la película")}}}};const W=(0,S.A)(R,[["render",M],["__scopeId","data-v-189f6492"]]);var Z=W;const aa={key:0,id:"carouselDestacado",class:"carousel slide mb-4","data-bs-ride":"carousel"},ea={class:"carousel-indicators"},ta=["data-bs-slide-to","aria-label"],la={class:"carousel-inner"},ra=["src","alt"],oa={class:"carousel-caption d-none d-md-block bg-dark bg-opacity-50 rounded p-2 text-start"};function ia(a,e,t,l,i,s){return t.peliculas.length?((0,r.uX)(),(0,r.CE)("div",aa,[(0,r.Lk)("div",ea,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.peliculas,(a,e)=>((0,r.uX)(),(0,r.CE)("button",{key:e,type:"button","data-bs-target":"#carouselDestacado","data-bs-slide-to":e,class:(0,o.C4)({active:0===e}),"aria-current":"true","aria-label":"Slide "+(e+1)},null,10,ta))),128))]),(0,r.Lk)("div",la,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.peliculas,(a,e)=>((0,r.uX)(),(0,r.CE)("div",{key:a.imdbID,class:(0,o.C4)(["carousel-item",{active:0===e}])},[(0,r.Lk)("img",{src:a.Poster,class:"d-block w-100 rounded",style:{height:"400px","object-fit":"cover"},alt:a.Title},null,8,ra),(0,r.Lk)("div",oa,[(0,r.Lk)("h5",null,(0,o.v_)(a.Title),1)])],2))),128))]),e[0]||(e[0]=(0,r.Fv)('<button class="carousel-control-prev" type="button" data-bs-target="#carouselDestacado" data-bs-slide="prev"><span class="carousel-control-prev-icon" aria-hidden="true"></span><span class="visually-hidden">Anterior</span></button><button class="carousel-control-next" type="button" data-bs-target="#carouselDestacado" data-bs-slide="next"><span class="carousel-control-next-icon" aria-hidden="true"></span><span class="visually-hidden">Siguiente</span></button>',2))])):(0,r.Q3)("",!0)}var sa={name:"CarruselDestacado",props:{peliculas:{type:Array,required:!0}}};const ca=(0,S.A)(sa,[["render",ia]]);var na=ca,ua={name:"ListadoPeliculas",components:{BuscarPeliculas:j,FormularioPelicula:Z,CarruselDestacado:na},data(){return{peliculas:[],peliculasDestacadas:[],mostrarFormulario:!1,peliculaSeleccionada:null}},methods:{async cargarPeliculas(){this.peliculas=await K(),this.peliculasDestacadas=this.peliculas.filter(a=>a.Estado).slice(0,5)},async filtrarPeliculas(a){this.peliculas=await K(a.title,a.ubication),this.peliculasDestacadas=this.peliculas.filter(a=>a.Estado).slice(0,5)},async borrarPelicula(a){await N(a),this.cargarPeliculas()},abrirFormulario(a=null){this.peliculaSeleccionada=a,this.mostrarFormulario=!0},cerrarFormulario(){this.mostrarFormulario=!1,this.peliculaSeleccionada=null},refrescarPeliculas(){this.cargarPeliculas(),this.cerrarFormulario()}},mounted(){this.cargarPeliculas()}};const da=(0,S.A)(ua,[["render",P]]);var pa=da,ba={name:"App",components:{ListadoPeliculas:pa,FormularioPelicula:Z},data(){return{peliculaSeleccionada:null}},methods:{editarPelicula(a){this.peliculaSeleccionada=a},recargar(){this.peliculaSeleccionada=null,location.reload()}}};const ma=(0,S.A)(ba,[["render",u]]);var fa=ma,va=(t(8077),t(3497)),ka=t.n(va);const ha=(0,l.Ef)(fa);ha.mount("#app"),ka().init({duration:1e3,once:!0})}},e={};function t(l){var r=e[l];if(void 0!==r)return r.exports;var o=e[l]={exports:{}};return a[l].call(o.exports,o,o.exports,t),o.exports}t.m=a,function(){var a=[];t.O=function(e,l,r,o){if(!l){var i=1/0;for(u=0;u<a.length;u++){l=a[u][0],r=a[u][1],o=a[u][2];for(var s=!0,c=0;c<l.length;c++)(!1&o||i>=o)&&Object.keys(t.O).every(function(a){return t.O[a](l[c])})?l.splice(c--,1):(s=!1,o<i&&(i=o));if(s){a.splice(u--,1);var n=r();void 0!==n&&(e=n)}}return e}o=o||0;for(var u=a.length;u>0&&a[u-1][2]>o;u--)a[u]=a[u-1];a[u]=[l,r,o]}}(),function(){t.n=function(a){var e=a&&a.__esModule?function(){return a["default"]}:function(){return a};return t.d(e,{a:e}),e}}(),function(){t.d=function(a,e){for(var l in e)t.o(e,l)&&!t.o(a,l)&&Object.defineProperty(a,l,{enumerable:!0,get:e[l]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(a){if("object"===typeof window)return window}}()}(),function(){t.o=function(a,e){return Object.prototype.hasOwnProperty.call(a,e)}}(),function(){t.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}}(),function(){var a={524:0};t.O.j=function(e){return 0===a[e]};var e=function(e,l){var r,o,i=l[0],s=l[1],c=l[2],n=0;if(i.some(function(e){return 0!==a[e]})){for(r in s)t.o(s,r)&&(t.m[r]=s[r]);if(c)var u=c(t)}for(e&&e(l);n<i.length;n++)o=i[n],t.o(a,o)&&a[o]&&a[o][0](),a[o]=0;return t.O(u)},l=self["webpackChunkcartelera_vue"]=self["webpackChunkcartelera_vue"]||[];l.forEach(e.bind(null,0)),l.push=e.bind(null,l.push.bind(l))}();var l=t.O(void 0,[504],function(){return t(1042)});l=t.O(l)})();
//# sourceMappingURL=app.564bc38f.js.map